# ğŸ¥¤ ìíŒê¸° ì‹œë®¬ë ˆì´í„°

<img src="./public/diagram-vending-machine.svg" alt="ìíŒê¸° ë‹¤ì´ì–´ê·¸ë¨" />

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” Next.jsì™€ TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ëœ ì¸í„°ë™í‹°ë¸Œ ìíŒê¸° ì‹œë®¬ë ˆì´í„°ì…ë‹ˆë‹¤.
ì‚¬ìš©ìëŠ” í˜„ê¸ˆ ë˜ëŠ” ì¹´ë“œë¡œ ê²°ì œí•˜ë©´ì„œ ìŒë£Œë¥¼ êµ¬ë§¤í•  ìˆ˜ ìˆìœ¼ë©°, ì‹¤ì œ ìíŒê¸°ì˜ ë™ì‘ì„ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ¥¤ ìŒë£Œ ì„ íƒ

- **ì½œë¼** (1,100ì›)
- **ë¬¼** (600ì›)
- **ì»¤í”¼** (700ì›)

### ğŸ’° ê²°ì œ ì‹œìŠ¤í…œ

- **í˜„ê¸ˆ ê²°ì œ**: 100ì›, 500ì›, 1,000ì›, 5,000ì›, 10,000ì› ë‹¨ìœ„
- **ì¹´ë“œ ê²°ì œ**: ì˜¬ë°”ë¥¸ ì¹´ë“œë¡œ ê²°ì œ ê°€ëŠ¥
- **ê±°ìŠ¤ë¦„ëˆ ìë™ ê³„ì‚° ë° ë°˜í™˜**

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Framework**: Next.js
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: Jotai
- **Package Manager**: Bun
- **Testing**: Jest, React Testing Library

## ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
bun install

# OR
npm install
yarn install
```

### 2. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
bun dev

# OR
npm run dev
yarn run dev
```

### 3. í”„ë¡œë•ì…˜ ë¹Œë“œ

```bash
bun build
bun start
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

ì´ í”„ë¡œì íŠ¸ëŠ” Jestì™€ React Testing Libraryë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

#### ì„¤ì¹˜ëœ í…ŒìŠ¤íŠ¸ ê´€ë ¨ íŒ¨í‚¤ì§€

```json
{
  "@testing-library/react": "^14.3.1",
  "@testing-library/jest-dom": "^6.6.3",
  "@types/jest": "^29.5.14",
  "jest": "^29.7.0",
  "jest-environment-jsdom": "^29.7.0",
  "ts-jest": "^29.4.0"
}
```

#### Jest ì„¤ì • íŒŒì¼

- `jest.config.js`: Jest ê¸°ë³¸ ì„¤ì •
- `jest.setup.js`: í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • (jsdom, Next.js router mock ë“±)

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx jest

# í…ŒìŠ¤íŠ¸ ê°ì‹œ ëª¨ë“œ
npx jest --watch

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ì™€ í•¨ê»˜ ì‹¤í–‰
npx jest --coverage
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
__tests__/
â”œâ”€â”€ vending-util.test.ts                    # ê±°ìŠ¤ë¦„ëˆ ê³„ì‚° ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â””â”€â”€ use-vending-machine-state.test.tsx      # ìíŒê¸° ìƒíƒœ ê´€ë¦¬ í›… í…ŒìŠ¤íŠ¸
```

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

#### 1. vending-util.test.ts

ê±°ìŠ¤ë¦„ëˆ ê³„ì‚° í•¨ìˆ˜(`calculateChange`)ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸:

- âœ… ê±°ìŠ¤ë¦„ëˆì´ í•„ìš” ì—†ëŠ” ê²½ìš° (ë¹ˆ ë°°ì—´ ë°˜í™˜)
- âœ… ê°„ë‹¨í•œ ê±°ìŠ¤ë¦„ëˆ ê³„ì‚° (1000ì› - 600ì› = 400ì›)
- âœ… ë³µì¡í•œ ê±°ìŠ¤ë¦„ëˆ ê³„ì‚° (10000ì› - 1100ì› = 8900ì›)
- âœ… í° ê¸ˆì•¡ì˜ ê±°ìŠ¤ë¦„ëˆ ê³„ì‚° (50000ì› - 12300ì› = 37700ì›)
- âœ… ì •í™•í•œ ë™ì „ ë‹¨ìœ„ ê±°ìŠ¤ë¦„ëˆ (5000ì› - 1000ì› = 4000ì›)
- âœ… ìµœì†Œ ë‹¨ìœ„ë³´ë‹¤ ì‘ì€ ê±°ìŠ¤ë¦„ëˆ (1000ì› - 999ì› = 1ì› â†’ ê±°ìŠ¬ëŸ¬ì¤„ ìˆ˜ ì—†ìŒ)
- âœ… ì§€ë¶ˆ ê¸ˆì•¡ì´ ë¶€ì¡±í•œ ê²½ìš° (500ì› - 1000ì› â†’ ë¹ˆ ë°°ì—´)
- âœ… ëª¨ë“  í˜„ê¸ˆ ë‹¨ìœ„ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸
- âœ… ê°€ê²©ì´ 0ì›ì¸ ê²½ìš°
- âœ… ì´ ì§€ë¶ˆ ê¸ˆì•¡ì´ 0ì›ì¸ ê²½ìš°

#### 2. use-vending-machine-state.test.tsx

ìíŒê¸° ìƒíƒœ ê´€ë¦¬ í›…ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸:

**ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸:**

- âœ… ê¸°ë³¸ê°’ ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸
- âœ… ìŒë£Œ ì„ íƒ í›„ íƒ€ì´ë¨¸ ì¢…ë£Œ ì‹œ ìŒë£Œ ë°°ì¶œ ë° ìƒíƒœ ì´ˆê¸°í™”

**í˜„ê¸ˆ ê²°ì œ í…ŒìŠ¤íŠ¸:**

- âœ… í˜„ê¸ˆ ê²°ì œ ì‹œ ê±°ìŠ¤ë¦„ëˆ ìë™ ê³„ì‚° ë° ë°°ì¶œ
- âœ… í˜„ê¸ˆ íˆ¬ì… ì‹œ ê°œìˆ˜ ê´€ë¦¬
- âœ… í˜„ê¸ˆ íˆ¬ì… ì‹œ ì´ì•¡ ê³„ì‚°
- âœ… ì—¬ëŸ¬ ë‹¨ìœ„ í˜„ê¸ˆ íˆ¬ì… ì²˜ë¦¬
- âœ… í˜„ê¸ˆ ë°˜í™˜ ê¸°ëŠ¥
- âœ… ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™” ê¸°ëŠ¥
- âœ… ìŒë£Œ ë°°ì¶œ ëª©ë¡ ì´ˆê¸°í™” ê¸°ëŠ¥

**ì¹´ë“œ ê²°ì œ í…ŒìŠ¤íŠ¸:**

- âœ… ì¹´ë“œ ê²°ì œ ì‹œ ê±°ìŠ¤ë¦„ëˆ ë°°ì¶œ ì•ˆí•¨
- âœ… ì¹´ë“œ ê²°ì œ ì‹œ íˆ¬ì…ëœ í˜„ê¸ˆ ë°˜í™˜
- âœ… ì¹´ë“œ ê²°ì œ ë°©ì‹ ì„ íƒ
- âœ… ì¹´ë“œâ†’í˜„ê¸ˆ ê²°ì œ ë°©ì‹ ì „í™˜
- âœ… ì¹´ë“œ ê²°ì œ ìƒíƒœì—ì„œ ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™”
- âœ… ì¹´ë“œ ê²°ì œ í›„ ìŒë£Œ ë°°ì¶œ ëª©ë¡ ì´ˆê¸°í™”

**ê²°ì œ ë°©ì‹ ì „í™˜ í…ŒìŠ¤íŠ¸:**

- âœ… í˜„ê¸ˆâ†’ì¹´ë“œ ì „í™˜ ì‹œ íˆ¬ì…ëœ í˜„ê¸ˆ ì´ˆê¸°í™”
- âœ… ê°™ì€ ê²°ì œ ë°©ì‹ ì¤‘ë³µ ì„ íƒ ë°©ì§€

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ

```bash
$ npx jest

 PASS  __tests__/vending-util.test.ts
 PASS  __tests__/use-vending-machine-state.test.tsx

Test Suites: 2 passed, 2 total
Tests:       17 passed, 17 total
Snapshots:   0 total
Time:        1.2 s
```

### í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œë¼ì¸

1. **í…ŒìŠ¤íŠ¸ íŒŒì¼ ìœ„ì¹˜**: ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” `__tests__/` í´ë”ì— ìœ„ì¹˜
2. **í…ŒìŠ¤íŠ¸ ëª…ëª…**: í•œê¸€ë¡œ ê¸°ëŠ¥ì„ ëª…í™•íˆ ì„¤ëª…í•˜ëŠ” í…ŒìŠ¤íŠ¸ëª… ì‚¬ìš©
3. **í…ŒìŠ¤íŠ¸ êµ¬ì¡°**: `describe` â†’ `it` â†’ `expect` êµ¬ì¡°ë¡œ ì‘ì„±
4. **ìƒíƒœ ê´€ë¦¬**: Jotai ìƒíƒœ ë³€ê²½ ì‹œ `act(() => {})`ë¡œ ìƒíƒœ ë°˜ì˜ ëŒ€ê¸°
5. **ë¹„ë™ê¸° ì²˜ë¦¬**: `setTimeout` ë“±ì€ `jest.useFakeTimers()`ì™€ `jest.runAllTimers()` ì‚¬ìš©

## ğŸ— í”„ë¡œì íŠ¸ êµ¬ì¡°

```
fe-assignment-protopie/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx                 # ë©”ì¸ í˜ì´ì§€
â”œâ”€â”€ components/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ dialog.tsx              # ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/                     # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â””â”€â”€ vending-machine/         # ìíŒê¸° ê¸°ëŠ¥
â”‚       â”œâ”€â”€ components/          # ìíŒê¸° ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ hooks/              # ì»¤ìŠ¤í…€ í›…
â”‚       â”œâ”€â”€ lib/                # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚       â”œâ”€â”€ pages/              # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ types.ts            # íƒ€ì… ì •ì˜
â”œâ”€â”€ lib/                         # ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€â”€ public/                      # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ beverage/               # ìŒë£Œ ì´ë¯¸ì§€
â”‚   â””â”€â”€ diagram-vending-machine.svg
â”œâ”€â”€ styles/                      # ìŠ¤íƒ€ì¼ íŒŒì¼
â”œâ”€â”€ __tests__/                   # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ vending-util.test.ts
â”‚   â””â”€â”€ use-vending-machine-state.test.tsx
â”œâ”€â”€ jest.config.js               # Jest ì„¤ì •
â””â”€â”€ jest.setup.js                # Jest í™˜ê²½ ì„¤ì •
```

## ğŸ® ì‚¬ìš© ë°©ë²•

### í˜„ê¸ˆ ê²°ì œ

1. **í˜„ê¸ˆ íˆ¬ì…**: í˜„ê¸ˆ íˆ¬ì… ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì§€í/ë™ì „ íˆ¬ì…
2. **ìŒë£Œ ì„ íƒ**: ì›í•˜ëŠ” ìŒë£Œ ë²„íŠ¼ í´ë¦­
3. **ê²°ì œ í™•ì¸**: íˆ¬ì…ëœ ê¸ˆì•¡ì´ ìŒë£Œ ê°€ê²©ë³´ë‹¤ ë§ìœ¼ë©´ ìë™ìœ¼ë¡œ ê±°ìŠ¤ë¦„ëˆ ë°˜í™˜

### ì¹´ë“œ ê²°ì œ

1. **ì¹´ë“œ íƒœê¹…**: NFC ì¹´ë“œ ë˜ëŠ” ë§ˆê·¸ë„¤í‹± ì¹´ë“œ ì‚¬ìš©
2. **ìŒë£Œ ì„ íƒ**: ì›í•˜ëŠ” ìŒë£Œ ë²„íŠ¼ í´ë¦­
3. **ê²°ì œ ì™„ë£Œ**: ì¹´ë“œ ì •ë³´ ê²€ì¦ í›„ ê²°ì œ ì²˜ë¦¬

## ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### ìƒíƒœ ê´€ë¦¬

- `use-vending-machine-state.ts`: ìíŒê¸° ìƒíƒœ ê´€ë¦¬ í›…
- `vending-machine.ts`: ìíŒê¸° ìƒíƒœ ë¡œì§

### UI ì»´í¬ë„ŒíŠ¸

- `beverage-select-button.tsx`: ìŒë£Œ ì„ íƒ ë²„íŠ¼
- `cash-payment-button.tsx`: í˜„ê¸ˆ ê²°ì œ ë²„íŠ¼
- `card-payment-button.tsx`: ì¹´ë“œ ê²°ì œ ë²„íŠ¼
- `money-container.tsx`: íˆ¬ì…ëœ ê¸ˆì•¡ í‘œì‹œ
- `exchange-dispatch-button.tsx`: ê±°ìŠ¤ë¦„ëˆ ë°˜í™˜ ë²„íŠ¼

## ğŸ“± ë¸Œë¼ìš°ì € ì§€ì›

- Chrome (ìµœì‹  ë²„ì „)
- Firefox (ìµœì‹  ë²„ì „)
- Safari (ìµœì‹  ë²„ì „)
- Edge (ìµœì‹  ë²„ì „)
